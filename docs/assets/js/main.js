"use strict";const characterList=document.querySelector(".list"),url="https://api.disneyapi.dev/character?pageSize=50",ulFavorites=document.querySelector(".js_listfav"),search=document.querySelector(".js_inputSearch"),searchBtn=document.querySelector(".js_btnSearch");let disneyDataList=[],disneyDatafav=[];const charaterLS=JSON.parse(localStorage.getItem("character"));function init(){charaterLS?(disneyDataList=charaterLS,renderAllCharacters(disneyDataList)):fetch(url).then(e=>e.json()).then(e=>{console.log(e),disneyDataList=e.data,console.log(disneyDataList.name),renderAllCharacters(disneyDataList),localStorage.setItem("character",JSON.stringify(disneyDataList))})}function renderAllCharacters(e){ulFavorites.innerHTML="";for(const a of e)characterList.innerHTML+=renderCharacter(a);(characterList.imageUrl="")&&(characterList.innerHTML.imageUrl="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney"),addEventCharacter()}function addEventCharacter(){const e=document.querySelectorAll(".character");for(const a of e)a.addEventListener("click",handleClick)}function renderCharacter(e){return`<li id="${e._id}" class="character">\n                  <div class="list-box">\n                  <img class="character-img js_img" src="${e.imageUrl}" alt="Disney Characters" />\n                  <h3 class="character-name js_name">${e.name}</h3>\n                  </div>\n              </li>`}function handleClick(e){const a=parseInt(e.currentTarget.id),t=document.getElementById(a),r=disneyDataList.find(e=>e._id===a),n=disneyDatafav.findIndex(e=>e._id===a);-1===n?(disneyDatafav.push(r),t.classList.add("favorite")):(t.classList.remove("favorite"),disneyDatafav.splice(n,1)),renderFavoriteList()}function renderFavoriteList(){ulFavorites.innerHTML="";for(const e of disneyDatafav)ulFavorites.innerHTML+=renderCharacter(e)}init();const handleSearch=e=>{e.preventDefault();const a=search.value;renderAllCharacters(disneyDataList.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())))};searchBtn.addEventListener("click",handleSearch),console.log(">> Ready :)");